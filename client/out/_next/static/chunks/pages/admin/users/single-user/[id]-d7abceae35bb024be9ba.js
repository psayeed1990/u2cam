_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{CBpi:function(e,r,t){"use strict";var a=t("nKUr"),n=t("o0o1"),s=t.n(n),i=t("HaE+"),l=t("NKCw"),c=t("IKAo"),u=t.n(c),o=t("q1tI"),d=t("Nlzp"),m=function(e){var r=e.setSuccess,t=e.setReturnValue,n=e.setApiCallComponent,l=e.setValue,c=e.setError,u=e.setOperationalError,m=e.reqType,j=e.url,h=e.reason,b=e.formInput;return Object(o.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(""),e.next=3,Object(d.a)(m,j,h,b);case 3:return"success"===(a=e.sent).status?(Object.keys(b).forEach((function(e){l(e,"")})),r(!0),t(a)):"fail"===a.response.data.status?(i=a.response.data.message.split(" ")[0].trim(),o=a.response.data.message.split(" ").slice(1).join(" "),c("".concat(i),{type:"manual",message:"".concat(o).replace(/^\w/,(function(e){return e.toUpperCase()}))})):("error"===a.response.data.status||a.response.data.isOperational)&&u(a.response.data.message),e.abrupt("return",n(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsx)(o.Fragment,{})},j=Object(o.lazy)((function(){return t.e(28).then(t.bind(null,"mxxH"))})),h=Object(o.lazy)((function(){return t.e(24).then(t.bind(null,"hHX8"))})),b=Object(o.lazy)((function(){return t.e(27).then(t.bind(null,"74Ju"))})),p=Object(o.lazy)((function(){return t.e(25).then(t.bind(null,"LmcR"))})),f=Object(o.lazy)((function(){return t.e(26).then(t.bind(null,"8lFg"))})),x=Object(o.lazy)((function(){return t.e(23).then(t.bind(null,"Ja3I"))}));r.a=function(e){var r=e.setReturnValue,t=e.setSuccess,n=e.submitValue,c=e.reason,d=e.reqType,O=e.url,v=e.formBuilder,g=e.submitBtnExtra,C=Object(o.useState)(!1),_=C[0],F=C[1],N=Object(o.useState)({}),y=N[0],E=N[1],T=Object(o.useState)(""),R=T[0],q=T[1],w=Object(l.a)(),V=w.register,U=w.errors,S=w.clearErrors,A=w.setValue,k=w.getValues,B=w.setError,I=w.handleSubmit,L=function(){var e=Object(i.a)(s.a.mark((function e(r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(r),F(!0);case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return Object(a.jsxs)(o.Fragment,{children:[_?Object(a.jsx)(m,{setSuccess:t,setReturnValue:r,setApiCallComponent:F,setError:B,setValue:A,setOperationalError:q,reqType:d,url:O,reason:c,formInput:y}):Object(a.jsx)(o.Fragment,{}),Object(a.jsxs)("form",{onSubmit:I(L),children:[Object(a.jsx)("p",{className:"error",children:R}),Object(a.jsx)(o.Suspense,{fallback:Object(a.jsx)(a.Fragment,{}),children:null===v||void 0===v?void 0:v.map((function(e){return Object(a.jsxs)(o.Fragment,{children:["CustomTypeTextField"===e.fieldType&&Object(a.jsx)(x,{value:e.value,label:e.label,customTypesArray:e.customTypesArray,initFocus:e.initFocus,placeholder:e.placeholder,maxChar:e.maxChar,minChar:e.minChar,isRequired:e.isRequired,fieldName:e.fieldName,register:V,setValue:A,errors:U,setError:B,clearErrors:S,getValues:k}),"TextField"===e.fieldType&&Object(a.jsx)(j,{value:e.value,label:e.label,initFocus:e.initFocus,placeholder:e.placeholder,maxChar:e.maxChar,minChar:e.minChar,isRequired:e.isRequired,fieldName:e.fieldName,register:V,setValue:A,errors:U,setError:B,clearErrors:S,getValues:k}),"EmailField"===e.fieldType&&Object(a.jsx)(h,{value:e.value,label:e.label,initFocus:e.initFocus,placeholder:e.placeholder,isRequired:e.isRequired,fieldName:e.fieldName,register:V,setValue:A,errors:U,setError:B,clearErrors:S,getValues:k}),"PasswordWithConfirmField"===e.fieldType&&Object(a.jsx)(b,{value:e.value,label:e.label,initFocus:e.initFocus,placeholder:e.placeholder,maxChar:e.maxChar,minChar:e.minChar,isRequired:e.isRequired,fieldName:e.fieldName,otherFieldName:e.otherFieldName,register:V,setValue:A,errors:U,setError:B,clearErrors:S,getValues:k}),"PasswordConfirmField"===e.fieldType&&Object(a.jsx)(p,{value:e.value,label:e.label,initFocus:e.initFocus,placeholder:e.placeholder,maxChar:e.maxChar,minChar:e.minChar,isRequired:e.isRequired,fieldName:e.fieldName,otherFieldName:e.otherFieldName,register:V,setValue:A,errors:U,setError:B,clearErrors:S,getValues:k}),"PasswordField"===e.fieldType&&Object(a.jsx)(f,{value:e.value,label:e.label,initFocus:e.initFocus,placeholder:e.placeholder,maxChar:e.maxChar,minChar:e.minChar,isRequired:e.isRequired,fieldName:e.fieldName,register:V,setValue:A,errors:U,setError:B,clearErrors:S,getValues:k})]})}))}),Object(a.jsx)("input",{id:"hidden",name:"hidden",type:"hidden",placeholder:"hidden",autoComplete:"on"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{id:"submit",type:"submit",value:n}),Object(a.jsx)("div",{className:u.a.forgotBtn,children:g})]})]})]})}},GDVR:function(e,r,t){"use strict";var a=t("nKUr"),n=t("q1tI"),s=t("jcvg"),i=t("k0rj"),l=t("YFqc"),c=t.n(l),u=t("KIaw"),o=t.n(u),d=function(){return Object(a.jsx)("menu",{id:o.a.menu,children:Object(a.jsxs)("nav",{id:o.a.nav,children:[Object(a.jsx)(c.a,{href:"/",children:"Home"}),Object(a.jsx)(c.a,{href:"/admin/dashboard",children:"Dashboard"}),Object(a.jsx)(c.a,{href:"/user/auth/logout",children:"Logout"})]})})},m=t("GMIE"),j=t.n(m);r.a=function(){var e=Object(n.useContext)(s.a),r=e[0];e[1];return Object(a.jsxs)("header",{id:j.a.header,className:"header",children:[Object(a.jsx)(i.a,{}),r?Object(a.jsx)(n.Fragment,{}):Object(a.jsx)(d,{})]})}},GMIE:function(e,r,t){e.exports={header:"AdminHeader_header__2yDfM"}},HBKp:function(e,r,t){"use strict";var a=t("nKUr"),n=t("20a2"),s=t("q1tI"),i=t("Uw7I"),l=t("GDVR"),c=t("YFqc"),u=t.n(c),o=t("HGLW"),d=t.n(o),m=function(){return Object(a.jsx)("div",{className:d.a.sidebar,children:Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{className:d.a.adminLinks,children:[Object(a.jsx)(u.a,{href:"/admin/users/list-users",children:"Users"}),Object(a.jsxs)("ul",{className:d.a.subMenu,children:[Object(a.jsx)("li",{className:"".concat(d.a.adminLinks),children:Object(a.jsx)(u.a,{href:"/admin/users/list-users",children:"Search Users"})}),Object(a.jsx)("li",{className:"".concat(d.a.adminLinks),children:Object(a.jsx)(u.a,{href:"/admin/users/create-user",children:"Create User"})})]})]}),Object(a.jsx)("li",{className:d.a.adminLinks,children:Object(a.jsx)(u.a,{href:"/admin/uploads",children:"Uploads"})})]})})},j=t("jcvg"),h=t("wfTj"),b=t("RPPH"),p=t.n(b);r.a=function(e){var r=e.children,t=Object(s.useContext)(j.a),c=t[0],u=(t[1],Object(s.useContext)(h.a)),o=u[0],d=(u[1],Object(n.useRouter)());return Object(s.useEffect)((function(){if(!c)return o?"admin"!==o.role?d.push("/admin/unauthorized"):void 0:d.push("/user/auth/login")}),[o]),Object(a.jsxs)(s.Fragment,{children:[Object(a.jsx)(l.a,{}),!c&&o?Object(a.jsxs)("main",{className:p.a.AdminLayout,children:[Object(a.jsx)(m,{}),r]}):Object(a.jsx)("h1",{className:"heading",children:"Fetching user..."}),Object(a.jsx)(i.a,{})]})}},HGLW:function(e,r,t){e.exports={sidebar:"AdminSidebar_sidebar__2vcDe",adminLinks:"AdminSidebar_adminLinks__3SBUJ",subMenu:"AdminSidebar_subMenu__3kZ4n"}},IKAo:function(e,r,t){e.exports={register:"FormComponent_register__2IwdX",registerContent:"FormComponent_registerContent__ohUj2",forgotBtn:"FormComponent_forgotBtn__11A3p"}},KIaw:function(e,r,t){e.exports={nav:"AdminMenu_nav__2-7Ek",menu:"AdminMenu_menu__24ge-"}},"Kh/T":function(e,r,t){"use strict";t.r(r),t.d(r,"SubmitBtnExtra",(function(){return p}));var a=t("nKUr"),n=t("o0o1"),s=t.n(n),i=t("HaE+"),l=t("20a2"),c=t("g4pe"),u=t.n(c),o=t("VURU"),d=t.n(o),m=t("CBpi"),j=t("q1tI"),h=t("HBKp"),b=t("Nlzp"),p=function(){return Object(a.jsx)(j.Fragment,{})};r.default=function(){var e=Object(l.useRouter)().query.id,r=Object(j.useState)(null),t=r[0],n=r[1],c=Object(j.useState)(""),o=c[0],f=c[1],x=Object(j.useState)(!1),O=x[0],v=x[1],g=Object(j.useState)(null),C=g[0],_=g[1],F=Object(j.useState)(null),N=F[0],y=F[1];return Object(j.useEffect)((function(){e&&function(){var r=Object(i.a)(s.a.mark((function r(){var t;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(b.a)("get","users/".concat(e),"get user");case 2:t=r.sent,n(t.data.data);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()()}),[e,O]),Object(j.useEffect)((function(){O&&C&&f("User updated successfully")}),[O,C]),Object(j.useEffect)((function(){if(t){var e=[{fieldType:"CustomTypeTextField",label:"User Type",customTypesArray:["user","admin","moderator"],initFocus:!0,maxChar:32,minChar:2,isRequired:!0,fieldName:"role",value:null===t||void 0===t?void 0:t.role,placeholder:null===t||void 0===t?void 0:t.role},{fieldType:"TextField",label:"Name",initFocus:!1,maxChar:32,minChar:2,isRequired:!0,fieldName:"name",value:null===t||void 0===t?void 0:t.name,placeholder:null===t||void 0===t?void 0:t.name},{fieldType:"EmailField",label:"Email",initFocus:!1,isRequired:!0,fieldName:"email",value:null===t||void 0===t?void 0:t.email,placeholder:null===t||void 0===t?void 0:t.email},{fieldType:"TextField",label:"Phone",initFocus:!1,maxChar:32,minChar:4,isRequired:!0,fieldName:"phone",value:null===t||void 0===t?void 0:t.phone,placeholder:null===t||void 0===t?void 0:t.phone}];y(e)}}),[t]),Object(a.jsxs)(h.a,{children:[Object(a.jsx)(u.a,{children:"User Form"}),Object(a.jsx)("div",{className:"content",children:t?Object(a.jsxs)("div",{id:d.a.register,children:[Object(a.jsx)("h1",{className:"heading",children:t.name}),Object(a.jsx)("img",{src:"/images/icons/photo.svg",width:70,height:70}),Object(a.jsxs)("div",{id:d.a.registerContent,children:[Object(a.jsx)("h5",{className:"heading success-message",children:o}),Object(a.jsx)(m.a,{setSuccess:v,setReturnValue:_,submitValue:"Update",reason:"Update user",reqType:"post",url:"/users/".concat(e),formBuilder:N,submitBtnExtra:Object(a.jsx)(p,{})})]})]}):""})]})}},MB42:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/users/single-user/[id]",function(){return t("Kh/T")}])},RPPH:function(e,r,t){e.exports={AdminLayout:"AdminLayout_AdminLayout__2W35P"}},VURU:function(e,r,t){e.exports={register:"SingleUser_register__1Yr_t",registerContent:"SingleUser_registerContent__QZPUC"}}},[["MB42",0,2,1,3,4,5]]]);