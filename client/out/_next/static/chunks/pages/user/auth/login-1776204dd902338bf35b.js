_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{"3NUf":function(e,r,t){e.exports={login:"Login_login__324fB",loginContent:"Login_loginContent__nkVwq",forgotBtn:"Login_forgotBtn__34NYj"}},"7VKf":function(e,r,t){e.exports={nav:"WebMenu_nav__rGn-c",menu:"WebMenu_menu__5GoEW"}},"N9/k":function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/auth/login",function(){return t("uzOT")}])},RaS1:function(e,r,t){"use strict";var n=t("nKUr"),a=t("20a2"),s=t("q1tI"),i=t("Uw7I"),c=t("xGi3"),o=t("jcvg"),u=t("wfTj");r.a=function(e){var r=e.children,t=Object(s.useContext)(u.a),d=t[0],l=(t[1],Object(s.useContext)(o.a)),j=l[0],b=(l[1],Object(a.useRouter)());return Object(s.useEffect)((function(){if(!j)return d?b.push("/user/dashboard"):void 0}),[d]),Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(c.a,{}),d?Object(n.jsx)("h1",{className:"heading",children:"Checking user..."}):Object(n.jsx)("main",{children:r}),Object(n.jsx)(i.a,{})]})}},uzOT:function(e,r,t){"use strict";t.r(r);var n=t("nKUr"),a=t("o0o1"),s=t.n(a),i=t("HaE+"),c=t("q1tI"),o=t("g4pe"),u=t.n(o),d=t("YFqc"),l=t.n(d),j=t("3NUf"),b=t.n(j),h=t("NKCw"),p=t("Nlzp"),m=t("20a2"),x=t("wfTj"),O=t("RaS1");r.default=function(){var e,r,t=Object(c.useState)(""),a=t[0],o=t[1],d=Object(c.useContext)(x.a),j=(d[0],d[1]),f=Object(m.useRouter)(),g=Object(h.a)(),w=g.register,v=g.errors,_=g.handleSubmit,N=function(){var e=Object(i.a)(s.a.mark((function e(r){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)("POST","users/login","login",r);case 2:if("mongoError"!==(t=e.sent).status){e.next=6;break}return n=t.errorFieldName,t.errorFieldValue,a=t.errorMsg,e.abrupt("return",setError("".concat(n),{type:"manual",message:"".concat(n.toUpperCase()," ").concat(a)}));case 6:if(!t.operational){e.next=8;break}return e.abrupt("return",o(t.operational));case 8:if(j(t),"admin"!==t.role){e.next=11;break}return e.abrupt("return",f.push("/admin/dashboard"));case 11:if("user"!==t.role){e.next=13;break}return e.abrupt("return",f.push("/user/dashboard"));case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return Object(n.jsxs)(O.a,{children:[Object(n.jsx)(u.a,{children:Object(n.jsx)("title",{children:"Login"})}),Object(n.jsx)("div",{className:"content",children:Object(n.jsxs)("div",{id:b.a.login,children:[Object(n.jsx)("h1",{className:"heading",children:"Login"}),Object(n.jsx)("div",{className:"content",id:b.a.loginContent,children:Object(n.jsxs)("form",{onSubmit:_(N),children:[Object(n.jsx)("p",{className:"error",children:a}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("input",{ref:w({required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Invalid email format"}}),autoFocus:!0,id:"email",name:"email",type:"email",placeholder:"Email",autoComplete:"new-password"}),Object(n.jsx)("label",{htmlFor:"email",children:"Email"}),Object(n.jsx)("span",{className:"".concat(v.email?"error":""),children:null===(e=v.email)||void 0===e?void 0:e.message})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("input",{ref:w({required:"Password is required"}),id:"password",name:"password",type:"password",placeholder:"Password",autoComplete:"new-password"}),Object(n.jsx)("label",{htmlFor:"password",children:"Password"}),Object(n.jsx)("span",{className:"".concat(v.password?"error":""),children:null===(r=v.password)||void 0===r?void 0:r.message})]}),Object(n.jsx)("input",{id:"hidden",name:"hidden",type:"hidden",placeholder:"hidden",autoComplete:"on"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("input",{id:"submit",type:"submit",value:"Login"}),Object(n.jsxs)("div",{className:b.a.forgotBtn,children:[Object(n.jsx)(l.a,{href:"/user/auth/forgot-password",children:"Forgot password?"}),Object(n.jsx)("br",{}),Object(n.jsx)(l.a,{href:"/user/auth/registration",children:"Don't have account? "})]})]})]})})]})})]})}},xGi3:function(e,r,t){"use strict";var n=t("nKUr"),a=t("q1tI"),s=t("jcvg"),i=t("k0rj"),c=t("YFqc"),o=t.n(c),u=t("7VKf"),d=t.n(u),l=function(){return Object(n.jsx)("menu",{id:d.a.menu,children:Object(n.jsxs)("nav",{id:d.a.nav,children:[Object(n.jsx)(o.a,{href:"/",children:"Home"}),Object(n.jsx)(o.a,{href:"/user/auth/login",children:"Login"}),Object(n.jsx)(o.a,{href:"/user/auth/registration",children:"Register"})]})})},j=t("y377"),b=t.n(j);r.a=function(){var e=Object(a.useContext)(s.a),r=e[0];e[1];return Object(n.jsxs)("header",{id:b.a.header,children:[Object(n.jsx)(i.a,{}),r?Object(n.jsx)(a.Fragment,{}):Object(n.jsx)(l,{})]})}},y377:function(e,r,t){e.exports={header:"AuthHeader_header__1ZQe4"}}},[["N9/k",0,2,1,3,4,5]]]);