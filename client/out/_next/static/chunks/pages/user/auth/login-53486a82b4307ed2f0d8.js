_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{"3NUf":function(e,n,t){e.exports={login:"Login_login__324fB",loginContent:"Login_loginContent__nkVwq",forgotBtn:"Login_forgotBtn__34NYj"}},"7VKf":function(e,n,t){e.exports={nav:"WebMenu_nav__rGn-c",menu:"WebMenu_menu__5GoEW"}},"N9/k":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/auth/login",function(){return t("uzOT")}])},RaS1:function(e,n,t){"use strict";var r=t("nKUr"),s=t("20a2"),i=t("q1tI"),a=t("Uw7I"),c=t("xGi3"),o=t("jcvg"),u=t("wfTj");n.a=function(e){var n=e.children,t=Object(i.useContext)(u.a),d=t[0],j=(t[1],Object(i.useContext)(o.a)),l=j[0],h=(j[1],Object(s.useRouter)());return Object(i.useEffect)((function(){if(!l)return d?h.push("/user/dashboard"):void 0}),[d]),Object(r.jsxs)(i.Fragment,{children:[Object(r.jsx)(c.a,{}),d?Object(r.jsx)("h1",{className:"heading",children:"Checking user..."}):Object(r.jsx)("main",{children:n}),Object(r.jsx)(a.a,{})]})}},uzOT:function(e,n,t){"use strict";t.r(n),t.d(n,"SubmitBtnExtra",(function(){return f}));var r=t("nKUr"),s=t("g4pe"),i=t.n(s),a=t("3NUf"),c=t.n(a),o=t("RaS1"),u=t("CBpi"),d=t("YFqc"),j=t.n(d),l=t("q1tI"),h=t("20a2"),b=t("wfTj"),f=function(){return Object(r.jsxs)(l.Fragment,{children:[Object(r.jsx)(j.a,{href:"/user/auth/forgot-password",children:"Forgot password?"}),Object(r.jsx)("br",{}),Object(r.jsx)(j.a,{href:"/user/auth/registration",children:"Don't have account? "})]})};n.default=function(){var e=Object(l.useContext)(b.a),n=e[0],t=e[1],s=Object(l.useState)(!1),a=s[0],d=s[1],j=Object(l.useState)(null),O=j[0],x=j[1],g=Object(h.useRouter)();Object(l.useEffect)((function(){a&&O&&(localStorage.setItem("token",O.refreshToken),console.log(O),t(O.data.user))}),[a,O]),Object(l.useEffect)((function(){return n?"admin"===n.role?g.push("/admin/dashboard"):"user"===n.role?g.push("/user/dashboard"):void 0:void 0}),[n]);return Object(r.jsxs)(o.a,{children:[Object(r.jsx)(i.a,{children:"Login form"}),Object(r.jsx)("div",{className:"content",children:Object(r.jsxs)("div",{id:c.a.login,children:[Object(r.jsx)("h1",{className:"heading",children:"Login"}),Object(r.jsx)("div",{id:c.a.loginContent,children:Object(r.jsx)(u.a,{setSuccess:d,setReturnValue:x,submitValue:"Login",reason:"login",reqType:"post",url:"users/login",formBuilder:[{fieldType:"EmailField",placeholder:"Email",label:"Email",initFocus:!0,isRequired:!0,fieldName:"email"},{fieldType:"PasswordField",placeholder:"Password",label:"Password",initFocus:!1,maxChar:100,minChar:8,isRequired:!0,fieldName:"password"}],submitBtnExtra:Object(r.jsx)(f,{})})})]})})]})}},xGi3:function(e,n,t){"use strict";var r=t("nKUr"),s=t("q1tI"),i=t("jcvg"),a=t("k0rj"),c=t("YFqc"),o=t.n(c),u=t("7VKf"),d=t.n(u),j=function(){return Object(r.jsx)("menu",{id:d.a.menu,children:Object(r.jsxs)("nav",{id:d.a.nav,children:[Object(r.jsx)(o.a,{href:"/",children:"Home"}),Object(r.jsx)(o.a,{href:"/user/auth/login",children:"Login"}),Object(r.jsx)(o.a,{href:"/user/auth/registration",children:"Register"})]})})},l=t("y377"),h=t.n(l);n.a=function(){var e=Object(s.useContext)(i.a),n=e[0];e[1];return Object(r.jsxs)("header",{id:h.a.header,className:"header",children:[Object(r.jsx)(a.a,{}),n?Object(r.jsx)(s.Fragment,{}):Object(r.jsx)(j,{})]})}},y377:function(e,n,t){e.exports={header:"AuthHeader_header__1ZQe4"}}},[["N9/k",0,2,1,3,4,5]]]);