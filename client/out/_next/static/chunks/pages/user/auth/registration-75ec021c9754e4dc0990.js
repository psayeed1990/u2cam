_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{"7VKf":function(e,r,t){e.exports={nav:"WebMenu_nav__rGn-c",menu:"WebMenu_menu__5GoEW"}},BjMx:function(e,r,t){e.exports={register:"Register_register__23kuD",registerContent:"Register_registerContent__26UNG",forgotBtn:"Register_forgotBtn__x_e3w"}},CBpi:function(e,r,t){"use strict";var n=t("nKUr"),s=t("o0o1"),i=t.n(s),a=t("HaE+"),o=t("NKCw"),c=t("IKAo"),u=t.n(c),d=t("q1tI"),l=t("Nlzp"),j=function(e){var r=e.setSuccess,t=e.setReturnValue,s=e.setApiCallComponent,o=e.setError,c=e.setOperationalError,u=e.reqType,j=e.url,m=e.reason,f=e.formInput;return Object(d.useEffect)((function(){(function(){var e=Object(a.a)(i.a.mark((function e(){var n,a,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.next=3,Object(l.a)(u,j,m,f);case 3:return n=e.sent,console.log(n),"success"===n.status?(r(!0),t(n)):"fail"===n.response.data.status?(a=n.response.data.message.split(" ")[0].trim(),d=n.response.data.message.split(" ").slice(1).join(" "),o("".concat(a),{type:"manual",message:"".concat(d).replace(/^\w/,(function(e){return e.toUpperCase()}))})):("error"===n.response.data.status||n.response.data.isOperational)&&c(n.response.data.message),e.abrupt("return",s(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)(d.Fragment,{})},m=Object(d.lazy)((function(){return t.e(27).then(t.bind(null,"mxxH"))})),f=Object(d.lazy)((function(){return t.e(23).then(t.bind(null,"hHX8"))})),h=Object(d.lazy)((function(){return t.e(26).then(t.bind(null,"74Ju"))})),b=Object(d.lazy)((function(){return t.e(24).then(t.bind(null,"LmcR"))})),p=Object(d.lazy)((function(){return t.e(25).then(t.bind(null,"8lFg"))}));r.a=function(e){var r=e.setReturnValue,t=e.setSuccess,s=e.submitValue,c=e.reason,l=e.reqType,x=e.url,O=e.formBuilder,g=e.submitBtnExtra,C=Object(d.useState)(!1),F=C[0],_=C[1],N=Object(d.useState)({}),w=N[0],E=N[1],v=Object(d.useState)(""),R=v[0],y=v[1],q=Object(o.a)(),T=q.register,V=q.errors,S=q.clearErrors,B=q.getValues,I=q.setError,k=q.handleSubmit,K=function(){var e=Object(a.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(r),_(!0);case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return Object(n.jsxs)(d.Fragment,{children:[F?Object(n.jsx)(j,{setSuccess:t,setReturnValue:r,setApiCallComponent:_,setError:I,setOperationalError:y,reqType:l,url:x,reason:c,formInput:w}):Object(n.jsx)(d.Fragment,{}),Object(n.jsxs)("form",{onSubmit:k(K),children:[Object(n.jsx)("p",{className:"error",children:R}),Object(n.jsx)(d.Suspense,{fallback:Object(n.jsx)(n.Fragment,{}),children:null===O||void 0===O?void 0:O.map((function(e){return Object(n.jsxs)(d.Fragment,{children:["TextField"===e.fieldType&&Object(n.jsx)(m,{initFocus:e.initFocus,maxChar:e.maxChar,minChar:e.minChar,isRequired:e.isRequired,fieldName:e.fieldName,register:T,errors:V,setError:I,clearErrors:S,getValues:B}),"EmailField"===e.fieldType&&Object(n.jsx)(f,{isRequired:e.isRequired,fieldName:e.fieldName,register:T,errors:V,setError:I,clearErrors:S,getValues:B}),"PasswordWithConfirmField"===e.fieldType&&Object(n.jsx)(h,{initFocus:e.initFocus,maxChar:e.maxChar,minChar:e.minChar,isRequired:e.isRequired,fieldName:e.fieldName,otherFieldName:e.otherFieldName,register:T,errors:V,setError:I,clearErrors:S,getValues:B}),"PasswordConfirmField"===e.fieldType&&Object(n.jsx)(b,{initFocus:e.initFocus,maxChar:e.maxChar,minChar:e.minChar,isRequired:e.isRequired,fieldName:e.fieldName,otherFieldName:e.otherFieldName,register:T,errors:V,setError:I,clearErrors:S,getValues:B}),"PasswordField"===e.fieldType&&Object(n.jsx)(p,{initFocus:e.initFocus,maxChar:e.maxChar,minChar:e.minChar,isRequired:e.isRequired,fieldName:e.fieldName,register:T,errors:V,setError:I,clearErrors:S,getValues:B})]})}))}),Object(n.jsx)("input",{id:"hidden",name:"hidden",type:"hidden",placeholder:"hidden",autoComplete:"on"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("input",{id:"submit",type:"submit",value:s}),Object(n.jsx)("div",{className:u.a.forgotBtn,children:g})]})]})]})}},IKAo:function(e,r,t){e.exports={register:"FormComponent_register__2IwdX",registerContent:"FormComponent_registerContent__ohUj2",forgotBtn:"FormComponent_forgotBtn__11A3p"}},RaS1:function(e,r,t){"use strict";var n=t("nKUr"),s=t("20a2"),i=t("q1tI"),a=t("Uw7I"),o=t("xGi3"),c=t("jcvg"),u=t("wfTj");r.a=function(e){var r=e.children,t=Object(i.useContext)(u.a),d=t[0],l=(t[1],Object(i.useContext)(c.a)),j=l[0],m=(l[1],Object(s.useRouter)());return Object(i.useEffect)((function(){if(!j)return d?m.push("/user/dashboard"):void 0}),[d]),Object(n.jsxs)(i.Fragment,{children:[Object(n.jsx)(o.a,{}),d?Object(n.jsx)("h1",{className:"heading",children:"Checking user..."}):Object(n.jsx)("main",{children:r}),Object(n.jsx)(a.a,{})]})}},VpV3:function(e,r,t){"use strict";t.r(r),t.d(r,"SubmitBtnExtra",(function(){return h}));var n=t("nKUr"),s=t("g4pe"),i=t.n(s),a=t("BjMx"),o=t.n(a),c=t("RaS1"),u=t("CBpi"),d=t("YFqc"),l=t.n(d),j=t("q1tI"),m=t("20a2"),f=t("wfTj"),h=function(){return Object(n.jsx)(l.a,{href:"/user/auth/login",children:"Already have account? Login here "})};r.default=function(){var e=Object(j.useContext)(f.a),r=e[0],t=e[1],s=Object(j.useState)(!1),a=s[0],d=s[1],l=Object(j.useState)(null),b=l[0],p=l[1],x=Object(m.useRouter)();Object(j.useEffect)((function(){a&&b&&(localStorage.setItem("token",b.refreshToken),t(b.data.user))}),[a,b]),Object(j.useEffect)((function(){if(r)if("admin"===r.role)x.push("/admin/dashboard");else{if("user"!==r.role)return;x.push("/user/dashboard")}}),[r]);return Object(n.jsxs)(c.a,{children:[Object(n.jsx)(i.a,{children:"Registration form"}),Object(n.jsx)("div",{className:"content",children:Object(n.jsxs)("div",{id:o.a.register,children:[Object(n.jsx)("h1",{className:"heading",children:"Registration"}),Object(n.jsx)("div",{id:o.a.registerContent,children:Object(n.jsx)(u.a,{setSuccess:d,setReturnValue:p,submitValue:"Signup",reason:"registration",reqType:"post",url:"users/signup",formBuilder:[{fieldType:"TextField",initFocus:!0,maxChar:32,minChar:2,isRequired:!0,fieldName:"name"},{fieldType:"EmailField",initFocus:!1,isRequired:!0,fieldName:"email"},{fieldType:"PasswordWithConfirmField",initFocus:!1,maxChar:100,minChar:8,isRequired:!0,fieldName:"password",otherFieldName:"passwordConfirm"},{fieldType:"PasswordConfirmField",initFocus:!1,maxChar:100,minChar:8,isRequired:!0,fieldName:"passwordConfirm",otherFieldName:"password"}],submitBtnExtra:Object(n.jsx)(h,{})})})]})})]})}},Vwac:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/auth/registration",function(){return t("VpV3")}])},xGi3:function(e,r,t){"use strict";var n=t("nKUr"),s=t("q1tI"),i=t("jcvg"),a=t("k0rj"),o=t("YFqc"),c=t.n(o),u=t("7VKf"),d=t.n(u),l=function(){return Object(n.jsx)("menu",{id:d.a.menu,children:Object(n.jsxs)("nav",{id:d.a.nav,children:[Object(n.jsx)(c.a,{href:"/",children:"Home"}),Object(n.jsx)(c.a,{href:"/user/auth/login",children:"Login"}),Object(n.jsx)(c.a,{href:"/user/auth/registration",children:"Register"})]})})},j=t("y377"),m=t.n(j);r.a=function(){var e=Object(s.useContext)(i.a),r=e[0];e[1];return Object(n.jsxs)("header",{id:m.a.header,className:"header",children:[Object(n.jsx)(a.a,{}),r?Object(n.jsx)(s.Fragment,{}):Object(n.jsx)(l,{})]})}},y377:function(e,r,t){e.exports={header:"AuthHeader_header__1ZQe4"}}},[["Vwac",0,2,1,3,4,5]]]);